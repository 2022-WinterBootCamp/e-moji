# ** IGE MOJI? **

---

## ABOUT
 >AIê°€ ì–¼êµ´ í‘œì •ì„ **ë¶„ì„**í•˜ì—¬ ì›í•˜ëŠ” ì´ëª¨ì§€ í…œí”Œë¦¿ì— ë§ëŠ” **í‘œì •**ì„ ì‚¬ì§„ì— **ë¶™ì—¬ë„£ì–´ì£¼ëŠ”** ì„œë¹„ìŠ¤


<br></br>

## System Architecture

<img width="1200" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-02-01 á„‹á…©á„’á…® 1 39 00" src="https://user-images.githubusercontent.com/121562023/216060082-0852cd9a-abbb-4dc6-80c1-31f0f4652fa4.png">

- **Frontend tech**
   - `MUI` : ì¸í„°ë™í‹°ë¸Œ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ì˜ React UIë¼ì´ë¸ŒëŸ¬ë¦¬
     - WHY?
     
       - ë†’ì€ ìˆ˜ì¤€ì˜ UIë¥¼ ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê°œë°œí•  ìˆ˜ ìˆëŠ” UI ë„êµ¬
       
       - ë¦¬ì•¡íŠ¸ì™€ ë†’ì€ í˜¸í™˜ì„±ê³¼ ë†’ì€ ìˆ˜ì¤€ì˜ í€„ë¦¬í‹°ë¥¼ ì œê³µ
<br></br>


   - `Redux` : Javascript applicationë“¤ì˜ state(ìƒíƒœ)ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬(ì €ì¥ì†Œ)
     - WHY? 
   
       - ì†ì‰¬ìš´ state ê´€ë¦¬
       
       - í¸ë¦¬í•œ ì›¹ì‚¬ì´íŠ¸ ìƒíƒœ í™•ì¸


<br></br>

- **Backend tech**
   - `RabbitMQ` : AMQP(Advanced Message Queuing Protocol)ë¥¼ ë”°ë¥´ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë©”ì„¸ì§€ ë¸Œë¡œì»¤


`Mainserver(Django)` ì™€ `AI-server(Flask)` êµ¬ë³„ ê¸°ëŒ€íš¨ê³¼
- ë³´í¸ì ìœ¼ë¡œ í•œê°œì˜ Framework ë¡œ ì—¬ëŸ¬ê°œì˜ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ëŠ” ê²½ìš°ì™€ ë‹¬ë¦¬ í•œê°œì˜ ì„œë²„ê°€ ë‹¤ìš´ ëì„ ë•Œ ë…ë¦½ì ìœ¼ë¡œ êµ¬ë™í•  ìˆ˜ ìˆìœ¼ë©° ì˜í–¥ì„ ë¹„êµì  ëœ ë°›ëŠ”ë‹¤.

<br></br>

## Features
 - Main Feature : ì‚¬ìš©ìê°€ ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ì† ì‚¬ëŒì˜ í‘œì •ì„ AIê°€ ë¶„ì„í•˜ì—¬ ì´ëª¨ì§€ë¥¼ ìƒì„±
 - Additional Feature : ìƒì„±í•œ ì´ëª¨ì§€ë¥¼ ê³µìœ 



 

## ğŸŒµÂ **Tech Stack**
|Dev-Ops|<img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=black"> <img src="https://img.shields.io/badge/Amazon EC2-FF9900?style=for-the-badge&logo=Amazon%20EC2&logoColor=white"> <img src="https://img.shields.io/badge/S3%20Bucket-569A31?style=for-the-badge&logo=Amazon%20S3&logoColor=white"> <img src="https://img.shields.io/badge/NGINX-009639?style=for-the-badge&logo=NGINX&logoColor=black"> |
|----------|:-------------:|
|__Frontend__| <img src="https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=React&logoColor=black"> <img src="https://img.shields.io/badge/Redux-764ABC?style=for-the-badge&logo=Redux&logoColor=black"> <img src="https://img.shields.io/badge/MUI-007FFF?style=for-the-badge&logo=MUI&logoColor=black"> <img src="https://img.shields.io/badge/Javascript-F7DF1E?style=for-the-badge&logo=Javascript&logoColor=black"> |
|__Backend__| <img src="https://img.shields.io/badge/Django-092E20?style=for-the-badge&logo=Django&logoColor=white"> <img src="https://img.shields.io/badge/Gunicorn-499848?style=for-the-badge&logo=Gunicorn&logoColor=black"> <img src="https://img.shields.io/badge/RabbitMQ-FF6600?style=for-the-badge&logo=RabbitMQ&logoColor=black"> <img src="https://img.shields.io/badge/Celery-37814A?style=for-the-badge&logo=Celery&logoColor=black"> <img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=Redis&logoColor=black"> |
|__DB__| <img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=black"> <img src="https://img.shields.io/badge/AmazonRDS-527FFF?style=for-the-badge&logo=AmazonRDS&logoColor=black"> |
|__AI__| <img src="https://img.shields.io/badge/OpenCV-5C3EE8?style=for-the-badge&logo=OpenCV&logoColor=black"> <img src="https://img.shields.io/badge/pandas-150458?style=for-the-badge&logo=pandas&logoColor=black"> <img src="https://img.shields.io/badge/TensorFlow-FF6F00?style=for-the-badge&logo=TensorFlow&logoColor=black"> <img src="https://img.shields.io/badge/Colab-F9AB00?style=for-the-badge&logo=Google%20Colab&logoColor=black"> <img src="https://img.shields.io/badge/Flask-000000?style=for-the-badge&logo=Flask&logoColor=white"> |
|__Monitoring__| <img src="https://img.shields.io/badge/Prometheus-E6522C?style=for-the-badge&logo=Prometheus&logoColor=black"> <img src="https://img.shields.io/badge/Grafana-F46800?style=for-the-badge&logo=Grafana&logoColor=black"> |
|__Others__| <img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=Postman&logoColor=black"> <img src="https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=Slack&logoColor=black"> <img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=Notion&logoColor=white"> <img src="https://img.shields.io/badge/GitKraken-179287?style=for-the-badge&logo=GitKraken&logoColor=black"> <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=black"> |

  
<br></br>











## Backend API
<img width="728" alt="ERD" src="https://user-images.githubusercontent.com/121562023/216205865-56d7a7e6-6f63-40ff-816a-825374ac4eb9.png">



### **users api**

- ***api/v1/users/***
    - `GET` : ì•„ì´ë”” ì¤‘ë³µ í™•ì¸
    - `POST` : íšŒì›ê°€ì…

- ***api/v1/users/auth***
    - `POST` : ë¡œê·¸ì¸

- ***api/v1/users/mypage/{case}***
  - `GET` : ë§ˆì´í˜ì´ì§€ ë°ì´í„° ì¡°íšŒ <br></br>
    > case1 : ë‚´ê°€ í–ˆë˜ ì´ëª¨ì§€<br>case2 : ë‚´ê°€ ë§Œë“  ì´ëª¨ì§€

### **faces api**


- ***/api/v1/faces/tasks/***
    - `POST` : ì‚¬ìš©ìê°€ ì—…ë¡œë“œí•œ ì‚¬ì§„ ë¶„ì„ ë¹„ë™ê¸° ì²˜ë¦¬

- ***/api/v1/faces/tasks/{task_id}
    - `GET` : task id ë¡œ ë¶„ì„ ì™„ë£Œ ì—¬ë¶€ í™•ì¸ ë° front ì—ì„œ polling

- ***/api/v1/faces/ranking***

    - `GET` : Emoji ë­í‚¹ ì¡°íšŒ

### **emojis api**
- ***/api/v1/emojis/***

    - `POST` : ì‚¬ìš©ìì˜ ì´ëª¨ì§€ ì¶”ê°€
    - `GET` : id ì— ë§ëŠ” emoji ì •ë³´ ì¡°íšŒ



- ***/api/v1/emojis/pages/{page_number}***
    - `GET` : ë©”ì¸ í™”ë©´ì— í‘œì‹œë˜ëŠ” emoji ë°ì´í„°, í˜ì´ì§€ë„¤ì´ì…˜ ì ìš©

## AI, Dataset
- Dataset : 

<img width="1193" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-02-03 á„‹á…©á„’á…® 8 01 02" src="https://user-images.githubusercontent.com/121562023/216587882-c3961bc4-4a23-4dcb-af5b-37839305a9aa.png">


## Initialization

## JWT

- used_library
    - `djangorestframework-jwt`
- JWT_Settings.py
    - set JWTâ€™s default_settings
        
        <img width="200" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-02-02 á„‹á…©á„’á…® 5 38 14" src="https://user-images.githubusercontent.com/121562023/216395399-26160577-790d-493e-93c5-18325845f6d9.png">


- Bcrypt : ë°ì´í„°ë² ì´ìŠ¤ì— ìœ ì €ì˜ ì •ë³´ë¥¼ ì €ì¥í•  ë•Œ, ë¹„ë°€ë²ˆí˜¸ì™€ ê°™ì´ ì•”í˜¸í™”ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” password hashing ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.


## Monitoring

### Prometheus
- api ìš”ì²­ê³¼ ê·¸ ê²°ê³¼ì— ëŒ€í•œ Metric ë°ì´í„°ë¥¼ Prometheus ì„ í†µí•´ ìˆ˜ì§‘
- í•´ë‹¹ ë…¸ë“œì˜ Metric data

<img width = "1000" alt ="183143866-e2bb4650-3098-4f79-8e45-c3eb89ef032b" src="https://user-images.githubusercontent.com/121562023/216610551-9500844b-6c94-40a1-8ce1-2667cdbd454d.png">

### Grafana
- Prometheus ë¡œ ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ Grafana ë¥¼ í†µí•´ ì‹œê°í™” í•œë‹¤.

<img width="1200" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-26 á„‹á…©á„’á…® 2 41 27" src="https://user-images.githubusercontent.com/121562023/216264603-fa949b72-a62d-4f09-8a44-733572aa8aba.png">




